(function(t){function e(e){for(var s,n,l=e[0],o=e[1],d=e[2],u=0,p=[];u<l.length;u++)n=l[u],i[n]&&p.push(i[n][0]),i[n]=0;for(s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s]);c&&c(e);while(p.length)p.shift()();return r.push.apply(r,d||[]),a()}function a(){for(var t,e=0;e<r.length;e++){for(var a=r[e],s=!0,l=1;l<a.length;l++){var o=a[l];0!==i[o]&&(s=!1)}s&&(r.splice(e--,1),t=n(n.s=a[0]))}return t}var s={},i={app:0},r=[];function n(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=t,n.c=s,n.d=function(t,e,a){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)n.d(a,s,function(e){return t[e]}.bind(null,s));return a},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],o=l.push.bind(l);l.push=e,l=l.slice();for(var d=0;d<l.length;d++)e(l[d]);var c=o;r.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"034f":function(t,e,a){"use strict";var s=a("c21b"),i=a.n(s);i.a},"09e2":function(t,e,a){},1522:function(t,e,a){"use strict";var s=a("c37e"),i=a.n(s);i.a},"2b56":function(t,e,a){"use strict";var s=a("3ec9"),i=a.n(s);i.a},"3ec9":function(t,e,a){},4434:function(t,e,a){},5173:function(t,e,a){"use strict";var s=a("4434"),i=a.n(s);i.a},"56d7":function(t,e,a){"use strict";a.r(e);var s=a("2b0e"),i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("navbar"),a("router-view")],1)},r=[],n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"pos-f-t padding"},[a("div",{staticClass:"collapse",attrs:{id:"navbarToggleExternalContent"}},[a("div",{staticClass:"bg-dark p-4"},[a("ul",{staticClass:"navbar-nav mt-2 mt-lg-0 menu"},[a("router-link",{staticClass:"font",attrs:{"data-toggle":"collapse","data-target":"#navbarToggleExternalContent",to:"/"}},[t._v("Home")]),t.User.id?a("router-link",{staticClass:"font",attrs:{"data-toggle":"collapse","data-target":"#navbarToggleExternalContent",to:"/dashboard"}},[t._v("Dashboard")]):t._e(),t.User.id?a("router-link",{staticClass:"font",attrs:{"data-toggle":"collapse","data-target":"#navbarToggleExternalContent",to:"/"},nativeOn:{click:function(e){t.logout()}}},[t._v("Logout")]):t._e(),t.User.id?t._e():a("router-link",{staticClass:"font",attrs:{"data-toggle":"collapse","data-target":"#navbarToggleExternalContent",to:"/login"},nativeOn:{click:function(e){t.login()}}},[t._v("Login")])],1)])]),t._m(0)])},l=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("nav",{staticClass:"navbar navbar-dark bg-dark"},[a("button",{staticClass:"navbar-toggler",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbarToggleExternalContent","aria-controls":"navbarToggleExternalContent","aria-expanded":"false","aria-label":"Toggle navigation"}},[a("span",{staticClass:"navbar-toggler-icon"})])])}],o={name:"navbar",data(){return{}},mounted(){},computed:{User(){return this.$store.state.user}},methods:{logout(){this.$store.dispatch("logout")}}},d=o,c=(a("a3fe"),a("2877")),u=Object(c["a"])(d,n,l,!1,null,null,null);u.options.__file="Navbar.vue";var p=u.exports,m={name:"app",mounted(){this.$store.dispatch("authenticate")},components:{navbar:p}},v=m,h=(a("034f"),Object(c["a"])(v,i,r,!1,null,null,null));h.options.__file="App.vue";var g=h.exports,b=a("8c4f"),f=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"home container-fluid background"},[t._m(0),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 d-flex flex-wrap"},t._l(t.publicKeeps,function(e){return a("div",{staticClass:"card",staticStyle:{width:"18rem"}},[a("img",{staticClass:"card-img-top",attrs:{src:e.img,alt:"picture"}}),a("div",{staticClass:"card-body"},[a("h5",{staticClass:"card-title"},[t._v(t._s(e.name))]),a("button",{staticClass:"btn btn-primary",attrs:{type:"button","data-toggle":"modal","data-target":"#"+e.id},on:{click:function(a){t.activeKeep=e.id,t.update(e.id)}}},[t._v("\n              View Keep\n            ")]),a("div",{staticClass:"modal fade bd-example-modal-lg",attrs:{id:e.id,tabindex:"-1",role:"dialog","aria-labelledby":"myLargeModalLabel","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog modal-lg"},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[t._v(t._s(e.name))]),t._m(1,!0)]),a("div",{staticClass:"modal-body"},[a("img",{staticClass:"img-responsive",staticStyle:{"max-height":"700px"},attrs:{src:e.img,alt:"keep"}}),a("h5",[t._v(t._s(e.description))]),a("h5",[t._v("views: "+t._s(e.views)+" keeps:"+t._s(e.keeps)+" shares: "+t._s(e.shares))])]),t.user.email?a("div",{staticClass:"modal-footer"},[a("div",{staticClass:"dropdown"},[a("button",{staticClass:"btn btn-secondary dropdown-toggle",attrs:{type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[t._v("\n                        add to vault\n                      ")]),a("div",{staticClass:"dropdown-menu",attrs:{"aria-labelledby":"dropdownMenuButton"}},t._l(t.Vaults,function(e){return a("a",{staticClass:"dropdown-item",on:{click:function(a){t.addKeepToVault(e.id,t.activeKeep)}}},[t._v(t._s(e.name))])}))]),t.user.id==e.userId?a("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:function(a){t.deleteKeep(e.id)}}},[t._v("delete")]):t._e()]):t._e()])])])])])}))])])])},_=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("h1",[t._v("Welcome Home")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("Ã—")])])}],w={name:"home",data(){return{activeKeep:0}},mounted(){this.$store.dispatch("getPublicKeeps"),this.$store.dispatch("getVaults")},computed:{publicKeeps(){return this.$store.state.publicKeeps},user(){return this.$store.state.user},Vaults(){return this.$store.state.vaults},activeVault(){return this.$store.state.activeVault}},methods:{addKeepToVault(t,e){this.$store.dispatch("activeVault",t);let a=this.$store.state.activeVault.keeps.find(t=>t.id==e);if(a)console.log("vault already contains that keep");else{let a=this.$store.state.publicKeeps.find(t=>t.id==e);a&&(a.keeps++,this.$store.dispatch("updateKeep",a));let s={vaultId:t,keepId:e,user:this.user.id};this.$store.dispatch("addKeepToVault",s)}},deleteKeep(t){this.$store.dispatch("deleteKeep",t)},update(t){let e=this.$store.state.publicKeeps.find(e=>e.id==t);e&&(e.views++,this.$store.dispatch("updateKeep",e))}}},C=w,K=(a("cccb"),Object(c["a"])(C,f,_,!1,null,null,null));K.options.__file="Home.vue";var $=K.exports,y=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"login"},[t.loginForm?a("form",{on:{submit:function(e){return e.preventDefault(),t.loginUser(e)}}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.creds.email,expression:"creds.email"}],attrs:{type:"email",placeholder:"email"},domProps:{value:t.creds.email},on:{input:function(e){e.target.composing||t.$set(t.creds,"email",e.target.value)}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:t.creds.password,expression:"creds.password"}],attrs:{type:"password",placeholder:"password"},domProps:{value:t.creds.password},on:{input:function(e){e.target.composing||t.$set(t.creds,"password",e.target.value)}}}),a("button",{attrs:{type:"submit"}},[t._v("Login")])]):a("form",{on:{submit:function(e){return e.preventDefault(),t.register(e)}}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.newUser.username,expression:"newUser.username"}],attrs:{type:"text",placeholder:"name"},domProps:{value:t.newUser.username},on:{input:function(e){e.target.composing||t.$set(t.newUser,"username",e.target.value)}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:t.newUser.email,expression:"newUser.email"}],attrs:{type:"email",placeholder:"email"},domProps:{value:t.newUser.email},on:{input:function(e){e.target.composing||t.$set(t.newUser,"email",e.target.value)}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:t.newUser.password,expression:"newUser.password"}],attrs:{type:"password",placeholder:"password"},domProps:{value:t.newUser.password},on:{input:function(e){e.target.composing||t.$set(t.newUser,"password",e.target.value)}}}),a("button",{attrs:{type:"submit"}},[t._v("Create Account")])]),a("div",{on:{click:function(e){t.loginForm=!t.loginForm}}},[t.loginForm?a("p",[t._v("No account Click to Register")]):a("p",[t._v("Already have an account click to Login")])])])])},k=[],x={name:"login",mounted(){},data(){return{loginForm:!0,creds:{email:"",password:""},newUser:{email:"",password:"",username:""}}},methods:{register(){this.$store.dispatch("register",this.newUser)},loginUser(){this.$store.dispatch("login",this.creds)}}},V=x,U=Object(c["a"])(V,y,k,!1,null,null,null);U.options.__file="Login.vue";var P=U.exports,E=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h1",[t._v("Welcome "+t._s(t.User.username))]),a("router-link",{attrs:{to:{name:"keeps"}}},[a("div",{staticClass:"jumbotron jumbotron-fluid"},[a("div",{staticClass:"container"},[a("h1",{staticClass:"display-4"},[t._v("KEEPS")])])])]),a("router-link",{attrs:{to:{name:"vaults"}}},[a("div",{staticClass:"jumbotron jumbotron-fluid"},[a("div",{staticClass:"container"},[a("h1",{staticClass:"display-4"},[t._v("VAULTS")])])])])],1)},L=[],j={name:"dashboard",data(){return{}},computed:{User(){return this.$store.state.user}},methods:{}},O=j,T=(a("2b56"),Object(c["a"])(O,E,L,!1,null,null,null));T.options.__file="Dashboard.vue";var M=T.exports,I=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"container-fluid"},[t._m(0),a("div",{staticClass:"col-4"},[a("button",{staticClass:"btn btn-primary",attrs:{type:"button","data-toggle":"modal","data-target":"#addkeep"}},[t._v("\n        add keep\n      ")]),a("div",{staticClass:"modal fade",attrs:{id:"addkeep",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[t._m(1),a("div",{staticClass:"modal-body"},[a("form",{on:{submit:function(e){e.preventDefault(),t.makeKeep()}}},[a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.newKeep.name,expression:"newKeep.name"}],attrs:{type:"text",placeholder:"Name"},domProps:{value:t.newKeep.name},on:{input:function(e){e.target.composing||t.$set(t.newKeep,"name",e.target.value)}}})]),a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.newKeep.description,expression:"newKeep.description"}],attrs:{type:"text",placeholder:"Description"},domProps:{value:t.newKeep.description},on:{input:function(e){e.target.composing||t.$set(t.newKeep,"description",e.target.value)}}})]),a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.newKeep.img,expression:"newKeep.img"}],attrs:{type:"text",placeholder:"Image Url"},domProps:{value:t.newKeep.img},on:{input:function(e){e.target.composing||t.$set(t.newKeep,"img",e.target.value)}}})]),a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.newKeep.isPrivate,expression:"newKeep.isPrivate"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.newKeep.isPrivate)?t._i(t.newKeep.isPrivate,null)>-1:t.newKeep.isPrivate},on:{change:function(e){var a=t.newKeep.isPrivate,s=e.target,i=!!s.checked;if(Array.isArray(a)){var r=null,n=t._i(a,r);s.checked?n<0&&t.$set(t.newKeep,"isPrivate",a.concat([r])):n>-1&&t.$set(t.newKeep,"isPrivate",a.slice(0,n).concat(a.slice(n+1)))}else t.$set(t.newKeep,"isPrivate",i)}}}),t._v("Private")]),a("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[t._v("Add Keep")])])])])])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 d-flex flex-wrap"},t._l(t.userKeeps,function(e){return a("div",{staticClass:"card",staticStyle:{width:"18rem"}},[a("img",{staticClass:"card-img-top",attrs:{src:e.img,alt:"picture"}}),a("div",{staticClass:"card-body"},[a("h5",{staticClass:"card-title"},[t._v(t._s(e.name))]),a("button",{staticClass:"btn btn-primary",attrs:{type:"button","data-toggle":"modal","data-target":"#"+e.id},on:{click:function(a){t.activeKeep.id=e.id,t.update(e.id)}}},[t._v("\n              View Keep\n            ")]),a("div",{staticClass:"modal fade bd-example-modal-lg",attrs:{id:e.id,tabindex:"-1",role:"dialog","aria-labelledby":"myLargeModalLabel","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog modal-lg"},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[t._v(t._s(e.name))]),t._m(2,!0)]),a("div",{staticClass:"modal-body"},[a("img",{staticClass:"img-responsive",staticStyle:{"max-height":"700px"},attrs:{src:e.img,alt:"keep"}}),t._v("\n                    "+t._s(e.description)+"\n                    "),a("h5",[t._v("views: "+t._s(e.views)+" keeps:"+t._s(e.keeps)+" shares: "+t._s(e.shares))])]),a("div",{staticClass:"modal-footer"},[a("div",{staticClass:"dropdown"},[a("button",{staticClass:"btn btn-secondary dropdown-toggle",attrs:{type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[t._v("\n                        add to vault\n                      ")]),a("div",{staticClass:"dropdown-menu",attrs:{"aria-labelledby":"dropdownMenuButton"}},t._l(t.vaults,function(e){return a("a",{staticClass:"dropdown-item",on:{click:function(a){t.addKeepToVault(e.id,t.activeKeep.id)}}},[t._v(t._s(e.name))])}))]),a("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:function(a){t.deleteKeep(e.id)}}},[t._v("delete")])])])])])])])}))])])])},N=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("h1",[t._v("Keeps")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[t._v("make a new keep")]),a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("Ã—")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("Ã—")])])}],S={name:"keeps",data(){return{newKeep:{name:"",description:"",img:"",isPrivate:0},activeKeep:{id:0}}},mounted(){this.$store.dispatch("getUserKeeps"),this.$store.dispatch("getVaults")},computed:{userKeeps(){return this.$store.state.userKeeps},vaults(){return this.$store.state.vaults},user(){return this.$store.state.user},activeVault(){return this.$store.state.activeVault}},methods:{makeKeep(){this.$store.dispatch("newKeep",this.newKeep),this.$store.dispatch("getUserKeeps")},deleteKeep(t){this.$store.dispatch("deleteKeep",t)},update(t){let e=this.$store.state.publicKeeps.find(e=>e.id==t);if(e)e.views++,this.$store.dispatch("updateKeep",e);else if(!e){let e=this.$store.state.userKeeps.find(e=>e.id==t);e.views++,this.$store.dispatch("updateKeep",e)}},addKeepToVault(t,e){this.$store.dispatch("activeVault",t);let a=this.$store.state.activeVault.keeps.find(t=>t.id==e);if(a)console.log("vault already contains that keep");else{let a=this.$store.state.publicKeeps.find(t=>t.id==e);if(a)a.keeps++,this.$store.dispatch("updateKeep",a);else if(!a){let t=this.$store.state.userKeeps.find(t=>t.id==e);t.keeps++,this.$store.dispatch("updateKeep",t)}let s={vaultId:t,keepId:e,user:this.user.id};this.$store.dispatch("addKeepToVault",s)}}}},A=S,D=(a("b868"),Object(c["a"])(A,I,N,!1,null,null,null));D.options.__file="Keeps.vue";var F=D.exports,B=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"vaults container-fluid"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col4"},[a("button",{staticClass:"btn btn-primary",attrs:{type:"button","data-toggle":"modal","data-target":"#addkeep"}},[t._v("\n          add vault\n        ")]),a("div",{staticClass:"modal fade",attrs:{id:"addkeep",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[t._m(0),a("div",{staticClass:"modal-body"},[a("form",{on:{submit:function(e){return e.preventDefault(),t.makeVault(e)}}},[a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.newVault.name,expression:"newVault.name"}],attrs:{type:"text",placeholder:"Name"},domProps:{value:t.newVault.name},on:{input:function(e){e.target.composing||t.$set(t.newVault,"name",e.target.value)}}})]),a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.newVault.description,expression:"newVault.description"}],attrs:{type:"text",placeholder:"Description"},domProps:{value:t.newVault.description},on:{input:function(e){e.target.composing||t.$set(t.newVault,"description",e.target.value)}}})]),a("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[t._v("Add vault")])])])])])])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 d-flex flex-wrap"},t._l(t.Vaults,function(e){return a("div",{staticClass:"card text-white bg-dark mb-3",staticStyle:{"max-width":"18rem"}},[a("router-link",{attrs:{to:{name:"vault",params:{vaultId:e.id}}}},[a("div",{staticClass:"card-header"},[t._v(t._s(e.name))]),a("div",{staticClass:"card-body"},[a("p",{staticClass:"card-text"},[t._v(t._s(e.description))])])])],1)}))])])])},H=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[t._v("make a new vault")]),a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("Ã—")])])])}],R={name:"vaults",data(){return{newVault:{name:"",description:""}}},mounted(){this.$store.dispatch("getVaults")},computed:{Vaults(){return this.$store.state.vaults}},methods:{makeVault(t){this.$store.dispatch("newVault",this.newVault)}}},J=R,W=(a("5173"),Object(c["a"])(J,B,H,!1,null,null,null));W.options.__file="Vaults.vue";var q=W.exports,z=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"vault container-fluid"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("h3",[t._v(t._s(t.activeVault.name))])]),a("div",{staticClass:"col-12"},[a("h3",[t._v(t._s(t.activeVault.description))])]),a("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:t.deleteVault}},[t._v("delete vault")]),a("div",{staticClass:"col-12 d-flex flex-wrap"},t._l(t.activeVault.keeps,function(e){return a("div",{staticClass:"card",staticStyle:{width:"18rem"}},[a("img",{staticClass:"card-img-top",attrs:{src:e.img,alt:"picture"}}),a("div",{staticClass:"card-body"},[a("h5",{staticClass:"card-title"},[t._v(t._s(e.name))]),a("button",{staticClass:"btn btn-primary",attrs:{type:"button","data-toggle":"modal","data-target":"#"+e.id},on:{click:function(a){t.update(e.id)}}},[t._v("\n            View Keep\n          ")]),a("div",{staticClass:"modal fade bd-example-modal-lg",attrs:{id:e.id,tabindex:"-1",role:"dialog","aria-labelledby":"myLargeModalLabel","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog modal-lg"},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[t._v(t._s(e.name))]),t._m(0,!0)]),a("div",{staticClass:"modal-body"},[a("img",{staticClass:"img-responsive",staticStyle:{"max-height":"700px"},attrs:{src:e.img,alt:"keep"}}),t._v("\n                  "+t._s(e.description)+"\n                  "),a("h5",[t._v("views: "+t._s(e.views)+" keeps:"+t._s(e.keeps)+" shares: "+t._s(e.shares))])]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-danger",attrs:{type:"button","data-dismiss":"modal"},on:{click:function(a){t.removeKeep(t.activeVault.id,e.id)}}},[t._v("remove\n                    from vault")])])])])])])])}))])])},G=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("Ã—")])])}],Q={name:"vault",data(){return{}},mounted(){this.$store.dispatch("activeVault",this.$route.params.vaultId),this.$store.dispatch("getUserKeeps")},computed:{activeVault(){return this.$store.state.activeVault},userKeeps(){return this.$store.state.userKeeps}},activeVaultKeeps(){return this.$store.state.activeVault.keeps},methods:{removeKeep(t,e){let a=this.$store.state.publicKeeps.find(t=>t.id==e);if(a)a.keeps--,this.$store.dispatch("updateKeep",a);else if(!a){let t=this.$store.state.userKeeps.find(t=>t.id==e);t.keeps--,this.$store.dispatch("updateKeep",t)}let s={vaultId:t,keepId:e};this.$store.dispatch("removeKeepFromVault",s)},update(t){let e=this.$store.state.publicKeeps.find(e=>e.id==t);if(e)e.views++,this.$store.dispatch("updateKeep",e),this.$store.dispatch("activeVault",this.$route.params.vaultId);else if(!e){let e=this.$store.state.userKeeps.find(e=>e.id==t);e.views++,this.$store.dispatch("updateKeep",e),this.$store.dispatch("activeVault",this.$route.params.vaultId)}},deleteVault(){this.$store.dispatch("deleteVault",this.$route.params.vaultId)}}},X=Q,Y=(a("1522"),Object(c["a"])(X,z,G,!1,null,null,null));Y.options.__file="VaultKeeps.vue";var Z=Y.exports;s["a"].use(b["a"]);var tt=new b["a"]({routes:[{path:"/",name:"home",component:$},{path:"/login",name:"login",component:P},{path:"/dashboard",name:"dashboard",component:M},{path:"/keeps",name:"keeps",component:F},{path:"/vaults",name:"vaults",component:q},{path:"/vaults/:vaultId",name:"vault",component:Z}]}),et=a("2f62"),at=a("bc3a"),st=a.n(at);s["a"].use(et["a"]);let it=st.a.create({baseURL:"http://localhost:5000/account/",timeout:3e3,withCredentials:!0}),rt=st.a.create({baseURL:"http://localhost:5000/api/",timeout:3e3,withCredentials:!0});var nt=new et["a"].Store({state:{user:{},publicKeeps:[],userKeeps:[],vaults:[],activeVault:{},activeVaultKeeps:{},vault:{}},mutations:{setUser(t,e){t.user=e},setPublicKeeps(t,e){t.publicKeeps=e},setUserKeeps(t,e){t.userKeeps=e},setVaults(t,e){t.vaults=e},setActiveVault(t,e){t.activeVault=e},setVault(t,e){t.vault=e}},actions:{register({commit:t,dispatch:e},a){it.post("register",a).then(e=>{t("setUser",e.data),tt.push({name:"home"})}).catch(t=>{console.log("[registration failed] :",t)})},authenticate({commit:t,dispatch:e}){it.get("authenticate").then(e=>{t("setUser",e.data),tt.push({name:"home"})}).catch(t=>{console.log("not authenticated")})},login({commit:t,dispatch:e},a){it.post("login",a).then(e=>{t("setUser",e.data),tt.push({name:"home"})}).catch(t=>{console.log("Login Failed")})},logout({commit:t,dispatch:e}){it.delete("logout").then(e=>{t("setUser",e.data)})},getPublicKeeps({commit:t,dispatch:e}){rt.get("keeps").then(e=>{t("setPublicKeeps",e.data)})},getUserKeeps({commit:t,dispatch:e}){rt.get("keeps/user").then(e=>{t("setUserKeeps",e.data)})},getVaults({commit:t,dispatch:e}){rt.get("vaults").then(e=>{t("setVaults",e.data)})},newKeep({commit:t,dispatch:e},a){rt.post("keeps",a).then(t=>{e("getUserKeeps",t.data)})},deleteKeep({commit:t,dispatch:e},a){rt.delete("keeps/"+a).then(t=>{e("getUserKeeps")})},updateKeep({commit:t,dispatch:e},a){rt.put("keeps/"+a.id,a).then(t=>{e("getUserKeeps")})},addKeepToVault({commit:t,dispatch:e},a){rt.post("vaultkeeps",a).then(t=>{})},activeVault({commit:t,dispatch:e},a){rt.get("vaults/"+a).then(e=>{let s=e.data;rt.get("vaultkeeps/"+a).then(e=>{s.keeps=e.data,t("setActiveVault",s)})})},removeKeepFromVault({commit:t,dispatch:e},a){rt.put("vaultkeeps",a).then(t=>{e("activeVault",a.vaultId)})},newVault({commit:t,dispatch:e},a){rt.post("vaults",a).then(t=>{e("getVaults")})},deleteVault({commit:t,dispatch:e},a){rt.delete("vaults/"+a).then(t=>{e("getVaults"),tt.push({name:"vaults"})})},getKeepsInVault({commit:t,dispatch:e},a){rt.get("vaults/"+a).then(e=>{let s=e.data;rt.get("vaultkeeps/"+a).then(e=>{s.keeps=e.data,t("setVault",s)})})}}});s["a"].config.productionTip=!1,new s["a"]({router:tt,store:nt,render:t=>t(g)}).$mount("#app")},"8f59":function(t,e,a){},a3fe:function(t,e,a){"use strict";var s=a("efba"),i=a.n(s);i.a},b868:function(t,e,a){"use strict";var s=a("09e2"),i=a.n(s);i.a},c21b:function(t,e,a){},c37e:function(t,e,a){},cccb:function(t,e,a){"use strict";var s=a("8f59"),i=a.n(s);i.a},efba:function(t,e,a){}});
//# sourceMappingURL=app.27679f8a.js.map